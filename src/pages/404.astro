---
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';
import CalloutSection from '../components/CalloutSection.astro';
---

<Layout title="404 | Anton Sten â€“ UX Lead & Product Designer" description="Page not found. Discover my latest articles and design resources." >
    <div class="page-shell">
        <Hero title="Looks like you've taken a wrong turn. It happens.">
            <p class="h3">
                This page doesn't exist (or it moved).
            </p>
        </Hero>

        <!-- Broken Link Reporting Section -->
        <CalloutSection title="Help me out" background="rgb(var(--color-accent-soft))" className="help-callout">
            <p class="body text-text mb-4">
                I'd really appreciate it if you could let me know about this broken link. It helps me keep my site up to date!
            </p>
            <div class="flex flex-col sm:flex-row gap-3">
                <a
                    id="emailLink"
                    href="mailto:anton@antonsten.com?subject=Broken link on antonsten.com&body=Hi Anton,%0D%0A%0D%0AI found a broken link on your website:%0D%0A%0D%0AURL: %0D%0A%0D%0AThanks!"
                    class="inline-flex items-center justify-center px-5 py-3 bg-[#00A35C] text-white text-[14px] font-medium rounded-[4px] hover:bg-[#00A35C]/80 transition-colors"
                >
                    Send me an email
                </a>
                <button
                    id="copyUrlBtn"
                    class="inline-flex items-center justify-center px-5 py-3 bg-transparent text-text-muted text-[14px] font-medium rounded-[4px] hover:text-accent transition-colors"
                >
                    <span id="copyUrlText">Copy URL</span>
                </button>
            </div>
        </CalloutSection>

        <CalloutSection title="Popular articles" background="rgb(var(--color-surface))" className="writing-callout">
            <div class="writing-list">
                <article class="writing-item">
                    <time class="body text-muted">19 Mar, 2024</time>
                    <h3 class="body-lg text-primary">
                        <a href="/articles/the-product-design-process/" class="hover:text-accent transition-colors duration-150">
                            The Product Design Process
                        </a>
                    </h3>
                </article>
                <article class="writing-item">
                    <time class="body text-muted">27 Jan, 2024</time>
                    <h3 class="body-lg text-primary">
                        <a href="/articles/the-solo-designer/" class="hover:text-accent transition-colors duration-150">
                            The Solo Designer: Lessons from a Startup Journey
                        </a>
                    </h3>
                </article>
                <article class="writing-item">
                    <time class="body text-muted">23 Apr, 2024</time>
                    <h3 class="body-lg text-primary">
                        <a href="/articles/uxstrategy/" class="hover:text-accent transition-colors duration-150">
                            Creating a UX Strategy
                        </a>
                    </h3>
                </article>
                <article class="writing-item">
                    <time class="body text-muted">25 Mar, 2024</time>
                    <h3 class="body-lg text-primary">
                        <a href="/articles/stakeholder/" class="hover:text-accent transition-colors duration-150">
                            The Stakeholder Interview
                        </a>
                    </h3>
                </article>
                <article class="writing-item">
                    <time class="body text-muted">25 May, 2017</time>
                    <h3 class="body-lg text-primary">
                        <a href="/articles/designers-write/" class="hover:text-accent transition-colors duration-150">
                            Why Designers Need to Write
                        </a>
                    </h3>
                </article>
                <article class="writing-item">
                    <time class="body text-muted">01 Apr, 2024</time>
                    <h3 class="body-lg text-primary">
                        <a href="/articles/uxlead/" class="hover:text-accent transition-colors duration-150">
                            Working as a UX-Lead
                        </a>
                    </h3>
                </article>
            </div>
        </CalloutSection>


    </div>
    <script>
        window.addEventListener('load', () => {
          const path = window.location.pathname;
          fathom.trackEvent('404: ' + path);
        });
      </script>
    <script>
        // Set up email link with current URL
        const emailLink = document.getElementById('emailLink') as HTMLAnchorElement;
        if (emailLink) {
            const currentUrl = window.location.href;
            const emailBody = `Hi Anton,%0D%0A%0D%0AI found a broken link on your website:%0D%0A%0D%0AURL: ${encodeURIComponent(currentUrl)}%0D%0A%0D%0AThanks!`;
            emailLink.href = `mailto:anton@antonsten.com?subject=Broken link on antonsten.com&body=${emailBody}`;
        }

        // Copy URL functionality
        const copyUrlBtn = document.getElementById('copyUrlBtn');
        const copyUrlText = document.getElementById('copyUrlText');

        if (copyUrlBtn && copyUrlText) {
            copyUrlBtn.addEventListener('click', async () => {
                try {
                    await navigator.clipboard.writeText(window.location.href);
                    copyUrlText.textContent = 'Copied!';
                    copyUrlBtn.classList.add('text-accent');
                    copyUrlBtn.classList.remove('text-text-muted');

                    setTimeout(() => {
                        if (copyUrlText) copyUrlText.textContent = 'Copy URL';
                        if (copyUrlBtn) {
                            copyUrlBtn.classList.remove('text-accent');
                            copyUrlBtn.classList.add('text-text-muted');
                        }
                    }, 2000);
                } catch (err) {
                    console.error('Failed to copy URL:', err);
                    if (copyUrlText) copyUrlText.textContent = 'Failed to copy';
                    setTimeout(() => {
                        if (copyUrlText) copyUrlText.textContent = 'Copy URL';
                    }, 2000);
                }
            });
        }
    </script>
</Layout>

<style>
  .page-shell {
    max-width: 1080px;
    margin: 0 auto;
    padding: 0 20px 120px;
  }

  .help-callout {
    margin-bottom: 48px;
  }

  .writing-callout {
    margin-bottom: 48px;
  }

  .writing-list {
    display: grid;
    gap: 24px;
  }

  .writing-item {
    display: grid;
    gap: 0;
  }

  .writing-item time {
    color: rgb(var(--color-text-muted));
  }
</style>
